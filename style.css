/* --------- Root & reset --------- */
:root{
  --bg1:#f5f7e9; --bg2:#eaf0d7; --card:#fffdf8;
  --accent:#7a9a66; --muted:#7b756f; --shadow:0 12px 30px rgba(30,30,40,0.08);
  --pill:#d7e6c6;
}
*{box-sizing:border-box}
html,body{height:100%; margin:0; font-family:Inter, system-ui, -apple-system, Arial;}
body{
  background: repeating-linear-gradient(90deg, var(--bg1) 0 88px, var(--bg2) 88px 176px);
  display:flex; align-items:center; justify-content:center; padding:28px;
}

/* --------- Frame --------- */
.frame{
  width:min(420px,92%); max-width:420px; min-height:500px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
  border-radius:22px; padding:26px; box-shadow:var(--shadow);
  position:relative; overflow:hidden; border:1px solid rgba(120,120,120,0.03);
}
.madeby{position:absolute; left:0; bottom:8px; right:0; text-align:center; font-size:12px; color:var(--muted);}

/* --------- Pages & transitions --------- */
.page{position:absolute; inset:0; padding:28px; transition: transform 700ms cubic-bezier(.22,.9,.3,1), opacity 400ms ease; display:flex; flex-direction:column; align-items:center; justify-content:flex-start}
.hidden{opacity:0; pointer-events:none; transform:translateY(18px) scale(.995)}
.visible{opacity:1; pointer-events:auto; transform:none}

/* --------- Welcome card --------- */
.card{width:100%; background:linear-gradient(180deg,var(--card),#fff); border-radius:14px; padding:28px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:10px; align-items:center; text-align:center;}
h1{font-family:'Great Vibes', cursive; margin:0; font-size:38px; color:var(--accent); line-height:0.9}
.meta{color:var(--muted); font-size:14px}
.btn{margin-top:10px; background:linear-gradient(180deg,var(--accent), #5f7a45); color:white; padding:10px 18px; border-radius:999px; border:0; cursor:pointer; font-weight:600; box-shadow:0 8px 20px rgba(90,110,70,0.12); transition:all 0.3s ease;}
.btn:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(90,110,70,0.18);}
.countdown{margin-top:14px; font-weight:700; color:var(--accent); font-size:20px}

/* --------- Photo memories --------- */
.photos-wrap{width:100%; display:flex; flex-direction:column; align-items:center; gap:18px; margin-top:36px}
.polaroid-stack{width:260px; height:220px; position:relative; display:block; margin:0 auto;}
.polaroid{position:absolute; width:220px; height:160px; left:50%; top:50%; transform-origin:center center; background:#fff; border-radius:8px; padding:12px; box-shadow:0 10px 30px rgba(20,20,20,0.08); display:flex; align-items:center; justify-content:center; border:1px solid rgba(0,0,0,0.04);}
.p1{transform: translate(-50%,-50%) rotate(-14deg) translateY(-6px); z-index:10;}
.p2{transform: translate(-50%,-50%) rotate(-6deg) translateX(6px); z-index:20;}
.p3{transform: translate(-50%,-50%) rotate(6deg) translateY(10px); z-index:30;}
.p4{transform: translate(-50%,-50%) rotate(18deg) translateX(-6px); z-index:15;}
.p5{transform: translate(-50%,-50%) rotate(-28deg) translateY(16px); z-index:5;}
.polaroid img{max-width:100%; max-height:100%; border-radius:6px; object-fit:cover}
.next-btn{margin-top:10px; background:transparent; border-radius:999px; padding:8px 14px; border:1px solid rgba(0,0,0,0.06); cursor:pointer; font-weight:600; color:var(--accent)}

/* --------- Music / vinyl --------- */
.music-wrap{width:100%; display:flex; flex-direction:column; align-items:center; gap:18px; margin-top:18px}
.vinyl{width:240px; height:240px; border-radius:50%; position:relative; display:grid; place-items:center;
  background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.06) 0 2%, transparent 2%),
  conic-gradient(#ffffff 0 6%, rgba(0,0,0,0.02) 6% 8%, #ffffff 8% 12%, rgba(0,0,0,0.02) 12% 18%, #ffffff 18% 24%);
  box-shadow: 0 10px 30px rgba(20,30,20,0.08); border: 8px solid rgba(255,255,255,0.25); transform-origin:center center;
}
.spindle{width:22px; height:22px; border-radius:50%; background:linear-gradient(180deg,#eee,#ccc); display:block; box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);}
.rotating{ animation: spin 4s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.track-card{width:100%; background:linear-gradient(180deg,#fff,#fbfbf8); border-radius:12px; padding:14px; box-shadow:var(--shadow); border:1px solid rgba(0,0,0,0.03)}
.track-title{font-weight:700; color:var(--accent); margin-bottom:6px}
.controls{display:flex; gap:12px; align-items:center; margin-top:8px}
.control-btn{width:46px; height:46px; border-radius:999px; display:grid; place-items:center; border:0; cursor:pointer; background:var(--pill); box-shadow:0 6px 18px rgba(10,20,10,0.06)}
.play-required{position:absolute; bottom:18px; left:50%; transform:translateX(-50%); background:rgba(255,255,255,0.9); padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,0.06); z-index:60}
.dots{display:flex; gap:8px; margin-top:8px}
.dot{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0.08)}
.dot.active{background:var(--accent)}



/* Envelope design */
.envelope-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 18px;
  cursor: pointer;

  /* ðŸ”½ NEW: make it float outside bottom */
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 150;
}
.envelope {
  width: 80px;
  height: 50px;
  background: #ff7a7a;
  position: relative;
  border-radius: 4px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}
.envelope::before {
  content: "";
  position: absolute;
  top: -25px;
  left: 0;
  width: 0;
  height: 0;
  border-left: 40px solid transparent;
  border-right: 40px solid transparent;
  border-bottom: 25px solid #ff4a4a;
}
.envelope-wrap:hover .envelope {
  transform: translateY(-4px);
}
.envelope-text {
  margin-top: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--muted);
}

/* Modal popup */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 200;
}
.modal.hidden { display: none; }
.modal-content {
  background: #fffdf8;
  padding: 20px;
  border-radius: 14px;
  max-width: 300px;
  text-align: center;
  box-shadow: var(--shadow);
  position: relative;
  animation: pop 0.3s ease;
}
@keyframes pop {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.close {
  position: absolute;
  top: 8px;
  right: 12px;
  font-size: 20px;
  font-weight: bold;
  cursor: pointer;
  color: #888;
}
.close:hover { color: #ff4a4a; }

/* --------- Responsive --------- */
@media (max-width:400px){
  .vinyl{width:200px; height:200px;}
  .track-card{padding:10px;}
  .control-btn{width:40px; height:40px;}
  
  /* keep envelope centered on mobile */
  .envelope-wrap {
    bottom: 20px;
  }
}
